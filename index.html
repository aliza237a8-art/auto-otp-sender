<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Multi Bot Auto OTP Sender</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  background:#0f172a;
  font-family: system-ui;
  padding:20px;
  color:white;
}
.wrapper { max-width:520px; margin:auto; }
.card {
  background:#0f172a;
  border:1px solid #243046;
  padding:20px;
  border-radius:18px;
}
h1 {
  text-align:center;
  font-size:1.3rem;
  margin-bottom:8px;
}
.sub { text-align:center; font-size:0.8rem; color:#9ca3af; margin-bottom:10px; }

.bot-box {
  background:#111827;
  padding:10px;
  border-radius:12px;
  border:1px solid #1f2937;
  margin-bottom:10px;
}
label { font-size:0.75rem; color:#9ca3af; margin-bottom:3px; display:block; }
input {
  width:100%;
  padding:7px;
  border-radius:8px;
  border:1px solid #374151;
  background:#020617;
  color:white;
  margin-bottom:7px;
}
.btn {
  width:100%; padding:10px; border:none;
  border-radius:10px; font-weight:600;
  cursor:pointer; margin-bottom:8px;
}
.btn-add { background:#3b82f6; color:white; }
.btn-start { background:#22c55e; color:white; }
.btn-stop { background:#ef4444; color:white; }
#status { text-align:center; font-size:0.8rem; min-height:18px; }
.bot-container { max-height:350px; overflow-y:auto; }

</style>
</head>
<body>

<div class="wrapper">
  <div class="card">
    <h1>Multi Bot Auto OTP Sender</h1>
    <div class="sub">Telegram-Style OTP Feed (Exact Screenshot Format)</div>

    <div id="botContainer" class="bot-container"></div>

    <button class="btn btn-add" onclick="addBot()">+ Add Bot</button>
    <button class="btn btn-start" onclick="startAuto()">START AUTO</button>
    <button class="btn btn-stop" onclick="stopAuto()">STOP</button>

    <div id="status"></div>

  </div>
</div>

<script>
let intervalId = null;
let botCounter = 1;
let bots = [];

const countries = [
  { name:"Nigeria", code:"+234", flag:"ğŸ‡³ğŸ‡¬" },
  { name:"Pakistan", code:"+92", flag:"ğŸ‡µğŸ‡°" },
  { name:"United States", code:"+1", flag:"ğŸ‡ºğŸ‡¸" },
  { name:"India", code:"+91", flag:"ğŸ‡®ğŸ‡³" },
  { name:"UAE", code:"+971", flag:"ğŸ‡¦ğŸ‡ª" },
];

const services = [
  { key:"whatsapp", name:"Whatsapp" },
  { key:"facebook", name:"Facebook" },
  { key:"gmail", name:"Gmail" },
  { key:"instagram", name:"Instagram" },
  { key:"tiktok", name:"TikTok" }
];

const rand = (min,max)=>Math.floor(Math.random()*(max-min+1))+min;
const pick = arr => arr[rand(0, arr.length-1)];

function genOtp(){
  const n = rand(100000,999999);
  const s = String(n);
  return `${s.slice(0,3)}-${s.slice(3)}`;
}

function genPhone(country){
  const last = rand(1000,9999);
  return `${country.code}${rand(100,999)}â€¢â€¢â€¢â€¢${last}`;
}

function sendToTelegram(bot, text){
  return fetch(`https://api.telegram.org/bot${bot.token}/sendMessage`,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ chat_id:bot.chatId, text:text, parse_mode:"Markdown" })
  });
}

function saveBots(){ localStorage.setItem("bots",JSON.stringify(bots)); }
function loadBots(){
  const s = localStorage.getItem("bots");
  if(s){ bots = JSON.parse(s); botCounter=bots.length+1; renderBots(); }
  else addBot();
}

function addBot(){
  bots.push({ id:botCounter, token:"", chatId:"", label:`Bot ${botCounter}` });
  botCounter++;
  saveBots(); renderBots();
}

function removeBot(id){
  bots = bots.filter(b=>b.id!==id);
  saveBots(); renderBots();
}

function updateBot(id,token,chat){
  const b = bots.find(x=>x.id===id);
  if(b){ b.token=token; b.chatId=chat; saveBots(); }
}

function renderBots(){
  const box=document.getElementById("botContainer");
  box.innerHTML="";
  bots.forEach(bot=>{
    box.innerHTML+=`
      <div class="bot-box">
        <div style="font-size:0.78rem; margin-bottom:5px;">
          ${bot.label}
          ${bots.length>1?`<button onclick="removeBot(${bot.id})" style="float:right; background:#ef4444; color:white; border:none; padding:2px 6px; border-radius:6px;">X</button>`:""}
        </div>
        <label>Bot Token</label>
        <input value="${bot.token}" onchange="updateBot(${bot.id},this.value,document.getElementById('c${bot.id}').value)">
        <label>Chat ID</label>
        <input id="c${bot.id}" value="${bot.chatId}" onchange="updateBot(${bot.id},document.querySelector('#botContainer input').value,this.value)">
      </div>
    `;
  });
}

function startAuto(){
  if(intervalId){ 
    document.getElementById("status").innerHTML="Already Running";
    return;
  }

  const valid = bots.filter(b=>b.token && b.chatId);
  if(valid.length===0){
    document.getElementById("status").innerHTML="Fill at least one bot details.";
    return;
  }

  document.getElementById("status").innerHTML="Started.";

  let index=0;
  intervalId=setInterval(()=>{

    const bot = valid[index];
    const country = pick(countries);
    const service = pick(services);
    const otp = genOtp();
    const phone = genPhone(country);

    const fullMsg =
`Your WhatsApp account is being registered on a new device

Do not share this code with anyone
Your WhatsApp code
${otp}
${Math.random().toString(36).substring(2,10)}`;

    // EXACT SCREENSHOT TEMPLATE
    const text =
`â° *Time:* ${new Date().toLocaleString()}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸŒ *Country:* ${country.name}${country.flag}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âš™ï¸ *Service:* ${service.name}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“± *Number:* ${phone}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ” *OTP:* ${otp}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“„ *Full Message:*
\`\`\`
${fullMsg}
\`\`\`
`;

    sendToTelegram(bot,text);
    index=(index+1)%valid.length;

  },10000);
}

function stopAuto(){
  clearInterval(intervalId);
  intervalId=null;
  document.getElementById("status").innerHTML="Stopped.";
}

loadBots();
</script>

</body>
</html>
